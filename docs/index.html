<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Guacamole Docs</title><meta name="description" content="Documentation for Guacamole Docs"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os"</script><header class="tsd-page-toolbar">
<div class="tsd-toolbar-contents container">
<div class="table-cell" id="tsd-search" data-base=".">
<div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M15.7824 13.833L12.6666 10.7177C12.5259 10.5771 12.3353 10.499 12.1353 10.499H11.6259C12.4884 9.39596 13.001 8.00859 13.001 6.49937C13.001 2.90909 10.0914 0 6.50048 0C2.90959 0 0 2.90909 0 6.49937C0 10.0896 2.90959 12.9987 6.50048 12.9987C8.00996 12.9987 9.39756 12.4863 10.5008 11.6239V12.1332C10.5008 12.3332 10.5789 12.5238 10.7195 12.6644L13.8354 15.7797C14.1292 16.0734 14.6042 16.0734 14.8948 15.7797L15.7793 14.8954C16.0731 14.6017 16.0731 14.1267 15.7824 13.833ZM6.50048 10.499C4.29094 10.499 2.50018 8.71165 2.50018 6.49937C2.50018 4.29021 4.28781 2.49976 6.50048 2.49976C8.71001 2.49976 10.5008 4.28708 10.5008 6.49937C10.5008 8.70852 8.71314 10.499 6.50048 10.499Z" fill="var(--color-text)"></path></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div>
<div class="field">
<div id="tsd-toolbar-links"></div></div>
<ul class="results">
<li class="state loading">Preparing search index...</li>
<li class="state failure">The search index is not available</li></ul><a href="https://distributhor.github.io/guacamole/index.html" class="title">Guacamole Docs</a></div>
<div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><rect x="1" y="3" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="7" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="11" width="14" height="2" fill="var(--color-text)"></rect></svg></a></div></div></header>
<div class="container container-main">
<div class="col-8 col-content">
<div class="tsd-page-title">
<h2>Guacamole Docs</h2></div>
<div class="tsd-panel tsd-typography">
<a href="#guacamole---a-backseat-driver-for-arangodb" id="guacamole---a-backseat-driver-for-arangodb" style="color: inherit; text-decoration: none;">
  <h1>Guacamole - A [backseat] driver for ArangoDB</h1>
</a>
<p><a href="https://github.com/distributhor/guacamole/releases"><img src="https://img.shields.io/github/tag/distributhor/guacamole.svg" alt="GitHub Release"></a>
<a href="LICENSE"><img src="https://img.shields.io/badge/license-MIT-brightgreen.svg" alt="License"></a></p>
<!--
[![Total alerts][lgtm-alerts]][link-lgtm-alerts]
[![Language grade: JavaScript][lgtm-code-quality]][link-lgtm-code-quality]
-->

<p>While no one likes backseat driver, sometimes a few extra instructions can&#39;t be avoided. That is the philosophy behind Guacamole. Think of it more as a thin wrapper that exposes the native <code>ArangoJS</code> driver (so you can keep on using it without friction), while adding a few potentially useful functions. </p>
<p>The primary aim is not to take over the main job of using the native driver, but rather to get out of the way, while allowing you to use the additional functionality if it&#39;s helpful. In fact, it&#39;s possible to use this package and only ever stick to the natively exposed <code>ArangoJS</code> driver and it&#39;s native functions. But, like a true backset driver, we had to throw in a few additional instructions.</p>
<p>On that note: this tool primarily came into existence to address a number of common use cases from <code>within our own world</code>, and is therefore very limited in what it attempts to be. The additional functionality relates mostly to a few CRUD operations, array manipulation, and the ability to perform simple queries easily, across data in single collections (as opposed to operations intended for graphs and traversals). </p>
<p>As such, this is a basic tool, which may or not cover your use cases.</p>
<p>Introductory documentation follows below. It&#39;s best to read in conjunction with the <a href="https://distributhor.github.io/guacamole/">API Reference</a> for additional details. API reference URL: <a href="https://distributhor.github.io/guacamole/">https://distributhor.github.io/guacamole/</a></p>

<a href="#quick-start" id="quick-start" style="color: inherit; text-decoration: none;">
  <h2>Quick Start</h2>
</a>
<p>The following is a basic example, which will also give you a succinct idea of the types of things this tool aims to help with.</p>
<p>The two main classes that you will typically interface with, are:</p>
<ul>
<li><a href="https://distributhor.github.io/guacamole/classes/index.ArangoDB.html">ArangoDB</a>: A thin wrapper around an <code>ArangoJS</code> <a href="https://arangodb.github.io/arangojs/8.1.0/classes/database.Database.html">Database</a> instance. It provides direct and easy access to the ArangoJS instance itself, but also adds a few convenience methods, for optional use.</li>
<li><a href="https://distributhor.github.io/guacamole/classes/index.ArangoConnection.html">ArangoConnection</a>: A class that manages instances of <a href="https://distributhor.github.io/guacamole/classes/index.ArangoDB.html">ArangoDB</a>. An <code>ArangoDB</code> instance deals with only one <code>ArangoJS</code> <a href="https://arangodb.github.io/arangojs/8.1.0/classes/database.Database.html">Database</a>. If you only need to work with one database, then simply use the <code>ArangoDB</code> class directly, but if you want to use different databases interchangeably in the same code, then <code>ArangoConnection</code> could potentially make that easier. It&#39;s not without limitation - read the documentation further below to understand it&#39;s usage and limits.</li>
</ul>
<p>Construct an instance.</p>
<pre><code class="language-javascript"><span class="hl-0">// const { ArangoDB } = require(&#39;@distributhor/guacamole&#39;)</span><br/><span class="hl-1">import</span><span class="hl-2"> { </span><span class="hl-3">ArangoDB</span><span class="hl-2"> } </span><span class="hl-1">from</span><span class="hl-2"> </span><span class="hl-4">&#39;@distributhor/guacamole&#39;</span><br/><br/><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">db</span><span class="hl-2"> = </span><span class="hl-5">new</span><span class="hl-2"> </span><span class="hl-7">ArangoDB</span><span class="hl-2">({</span><br/><span class="hl-2">   </span><span class="hl-3">databaseName:</span><span class="hl-2"> </span><span class="hl-3">process</span><span class="hl-2">.</span><span class="hl-3">env</span><span class="hl-2">.</span><span class="hl-6">DB_NAME</span><span class="hl-2">,</span><br/><span class="hl-2">   </span><span class="hl-3">url:</span><span class="hl-2"> </span><span class="hl-3">process</span><span class="hl-2">.</span><span class="hl-3">env</span><span class="hl-2">.</span><span class="hl-6">DB_URL</span><span class="hl-2">,</span><br/><span class="hl-2">   </span><span class="hl-3">auth:</span><span class="hl-2"> {</span><br/><span class="hl-2">      </span><span class="hl-3">username:</span><span class="hl-2"> </span><span class="hl-3">process</span><span class="hl-2">.</span><span class="hl-3">env</span><span class="hl-2">.</span><span class="hl-6">DB_USER</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-3">password:</span><span class="hl-2"> </span><span class="hl-3">process</span><span class="hl-2">.</span><span class="hl-3">env</span><span class="hl-2">.</span><span class="hl-6">DB_PASSWORD</span><br/><span class="hl-2">   }</span><br/><span class="hl-2">})</span>
</code></pre>
<p>The configuration object passed into the constructor is a standard <code>ArangoJS</code> <a href="https://arangodb.github.io/arangojs/8.1.0/types/connection.Config.html">Config</a> object. It will also accept an existing <code>ArangoJS</code> <a href="https://arangodb.github.io/arangojs/8.1.0/classes/database.Database.html">Database</a> instance.</p>
<p>Then perform some operations ...</p>
<pre><code class="language-javascript"><span class="hl-0">// Fetch one result only, it will return the first match</span><br/><span class="hl-0">// By default the the value is considered case insensitive</span><br/><span class="hl-0">// Other than case, it will match on the exact value</span><br/><span class="hl-0">// Will match &quot;nicosmith@email.com&quot; and &quot;NicoSmith@Email.com&quot;</span><br/><span class="hl-0">// Won&#39;t match &quot;nico@email.com&quot;</span><br/><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">person</span><span class="hl-2"> = </span><span class="hl-1">await</span><span class="hl-2"> </span><span class="hl-7">fetchOneByPropertyValue</span><span class="hl-2">(</span><br/><span class="hl-2">   </span><span class="hl-4">&#39;users&#39;</span><span class="hl-2">, </span><br/><span class="hl-2">   { </span><br/><span class="hl-2">      </span><span class="hl-3">property:</span><span class="hl-2"> </span><span class="hl-4">&#39;email&#39;</span><span class="hl-2">, </span><br/><span class="hl-2">      </span><span class="hl-3">value:</span><span class="hl-2"> </span><span class="hl-4">&#39;nicosmith@email.com&#39;</span><span class="hl-2"> </span><br/><span class="hl-2">   }</span><br/><span class="hl-2">)</span><br/><br/><span class="hl-0">// Fetch all results that matches the property value</span><br/><span class="hl-0">// By default the the value is considered case insensitive</span><br/><span class="hl-0">// Other than case, it will match on the exact value</span><br/><span class="hl-0">// Will match &quot;nico&quot; and &quot;Nico&quot;</span><br/><span class="hl-0">// Won&#39;t match &quot;nic&quot; or &quot;nicolas&quot;</span><br/><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">peopleNamedNico</span><span class="hl-2"> = </span><span class="hl-1">await</span><span class="hl-2"> </span><span class="hl-7">fetchByPropertyValue</span><span class="hl-2">(</span><br/><span class="hl-2">   </span><span class="hl-4">&#39;users&#39;</span><span class="hl-2">, </span><br/><span class="hl-2">   { </span><br/><span class="hl-2">      </span><span class="hl-3">property:</span><span class="hl-2"> </span><span class="hl-4">&#39;firstName&#39;</span><span class="hl-2">, </span><br/><span class="hl-2">      </span><span class="hl-3">value:</span><span class="hl-2"> </span><span class="hl-4">&#39;nico&#39;</span><span class="hl-2"> </span><br/><span class="hl-2">   }</span><br/><span class="hl-2">)</span><br/><br/><span class="hl-0">// Fetch all results that matches the exact property value</span><br/><span class="hl-0">// Stipulate that the match should be case sensitive</span><br/><span class="hl-0">// Limit the result to 10 and sort by lastName property</span><br/><span class="hl-0">// Will match only &quot;Nico&quot;</span><br/><span class="hl-0">// Won&#39;t match &quot;nico&quot;</span><br/><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">peopleNamedNicoV2</span><span class="hl-2"> = </span><span class="hl-1">await</span><span class="hl-2"> </span><span class="hl-7">fetchByPropertyValue</span><span class="hl-2">(</span><br/><span class="hl-2">   </span><span class="hl-4">&#39;users&#39;</span><span class="hl-2">, </span><br/><span class="hl-2">   { </span><br/><span class="hl-2">      </span><span class="hl-3">property:</span><span class="hl-2"> </span><span class="hl-4">&#39;firstName&#39;</span><span class="hl-2">, </span><br/><span class="hl-2">      </span><span class="hl-3">value:</span><span class="hl-2"> </span><span class="hl-4">&#39;Nico&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-3">options:</span><span class="hl-2"> {</span><br/><span class="hl-2">        </span><span class="hl-3">caseSensitive:</span><span class="hl-2"> </span><span class="hl-5">true</span><br/><span class="hl-2">      } </span><br/><span class="hl-2">   },</span><br/><span class="hl-2">   { </span><br/><span class="hl-2">      </span><span class="hl-3">limit:</span><span class="hl-2"> </span><span class="hl-8">10</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-3">sortBy:</span><span class="hl-2"> </span><span class="hl-4">&#39;lastName&#39;</span><br/><span class="hl-2">   }</span><br/><span class="hl-2">)</span><br/><br/><span class="hl-0">// Fetch all results that matches the search criteria</span><br/><span class="hl-0">// The terms are considered case insentitive and not exact</span><br/><span class="hl-0">// Will match values such as &quot;Nicolas&quot; and &quot;William&quot;</span><br/><span class="hl-0">// Will, of course, also match &quot;nic&quot; and &quot;Wil&quot;</span><br/><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">peopleNamedNicoV3</span><span class="hl-2"> = </span><span class="hl-1">await</span><span class="hl-2"> </span><span class="hl-7">fetchByCriteria</span><span class="hl-2">(</span><br/><span class="hl-2">   </span><span class="hl-4">&#39;users&#39;</span><span class="hl-2">, </span><br/><span class="hl-2">   </span><span class="hl-3">search</span><span class="hl-2">: {</span><br/><span class="hl-2">      </span><span class="hl-3">props:</span><span class="hl-2"> </span><span class="hl-4">&#39;name&#39;</span><span class="hl-2">, </span><span class="hl-3">terms:</span><span class="hl-2"> [</span><span class="hl-4">&#39;nic&#39;</span><span class="hl-2">, </span><span class="hl-4">&#39;wil&#39;</span><span class="hl-2">]</span><br/><span class="hl-2">   }</span><br/><span class="hl-2">)</span><br/><br/><span class="hl-0">// Fetch all results where gender == &#39;M&#39;</span><br/><span class="hl-0">// AND the name matches anything containing &quot;joe&quot;</span><br/><span class="hl-0">// Return the ArangoJS ArrayCursor instead of .all()</span><br/><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">peopleNamedNicoV4</span><span class="hl-2"> = </span><span class="hl-1">await</span><span class="hl-2"> </span><span class="hl-7">fetchByPropertyValueAndCriteria</span><span class="hl-2">(</span><br/><span class="hl-2">   </span><span class="hl-4">&#39;users&#39;</span><span class="hl-2">, </span><br/><span class="hl-2">   { </span><br/><span class="hl-2">      </span><span class="hl-3">property:</span><span class="hl-2"> </span><span class="hl-4">&#39;gender&#39;</span><span class="hl-2">, </span><br/><span class="hl-2">      </span><span class="hl-3">value:</span><span class="hl-2"> </span><span class="hl-4">&#39;M&#39;</span><span class="hl-2"> </span><br/><span class="hl-2">   }</span><br/><span class="hl-2">   </span><span class="hl-3">search</span><span class="hl-2">: {</span><br/><span class="hl-2">      </span><span class="hl-3">props:</span><span class="hl-2"> </span><span class="hl-4">&#39;name&#39;</span><span class="hl-2">, </span><span class="hl-3">terms:</span><span class="hl-2"> </span><span class="hl-4">&#39;nic&#39;</span><br/><span class="hl-2">   },</span><br/><span class="hl-2">   { </span><br/><span class="hl-2">      </span><span class="hl-3">returnCursor:</span><span class="hl-2"> </span><span class="hl-5">true</span><br/><span class="hl-2">   }</span><br/><span class="hl-2">)</span>
</code></pre>

<a href="#table-of-contents" id="table-of-contents" style="color: inherit; text-decoration: none;">
  <h2>Table Of Contents</h2>
</a>
<p>The documentation below does not replace the official <a href="https://distributhor.github.io/guacamole/">API Reference</a> (which contain additional details), but it does provide simple introductions and usage examples for each function. The snippets without checkmarks imply that the documentation is not yet done for that section, but gives an interim overview of what is to come.</p>

<a href="#constructors-amp-connection-management" id="constructors-amp-connection-management" style="color: inherit; text-decoration: none;">
  <h4>Constructors &amp; Connection Management</h4>
</a>
<ul>
<li><input checked="" disabled="" type="checkbox"> <a href="#ArangoDB">ArangoDB</a></li>
<li><input checked="" disabled="" type="checkbox"> <a href="#ArangoConnection">ArangoConnection</a></li>
</ul>

<a href="#native-driver-aql-queries-amp-crud" id="native-driver-aql-queries-amp-crud" style="color: inherit; text-decoration: none;">
  <h4>Native Driver, AQL Queries &amp; CRUD</h4>
</a>
<ul>
<li><input checked="" disabled="" type="checkbox"> <a href="#The-ArangoJS-Driver">ArangoJS Driver</a></li>
<li><input checked="" disabled="" type="checkbox"> <a href="#AQL-Queries">AQL Queries</a></li>
<li><input disabled="" type="checkbox"> <a href="#CRUD-Operations">CRUD Operations</a></li>
</ul>

<a href="#criteria-queries-amp-property-based-data-fetching" id="criteria-queries-amp-property-based-data-fetching" style="color: inherit; text-decoration: none;">
  <h4>Criteria Queries &amp; Property-Based Data Fetching</h4>
</a>
<ul>
<li><input disabled="" type="checkbox"> <a href="#fetchAll">fetchAll</a></li>
<li><input disabled="" type="checkbox"> <a href="#fetchByProperties">fetchByProperties</a></li>
<li><input disabled="" type="checkbox"> <a href="#fetchByProperties">fetchOneByProperties</a></li>
<li><input disabled="" type="checkbox"> <a href="#fetchByCriteria">fetchByCriteria</a></li>
<li><input disabled="" type="checkbox"> <a href="#fetchByPropertiesAndCriteria">fetchByPropertiesAndCriteria</a></li>
</ul>

<a href="#with-sauce" id="with-sauce" style="color: inherit; text-decoration: none;">
  <h4>With Sauce</h4>
</a>
<ul>
<li><input disabled="" type="checkbox"> <a href="#fetchByPropertyValue">fetchByPropertyValue</a></li>
<li><input disabled="" type="checkbox"> <a href="#fetchByAnyPropertyValue">fetchByAnyPropertyValue</a></li>
<li><input disabled="" type="checkbox"> <a href="#fetchByAllPropertyValues">fetchByAllPropertyValues</a></li>
<li><input disabled="" type="checkbox"> <a href="#fetchOneByPropertyValue">fetchOneByPropertyValue</a></li>
<li><input disabled="" type="checkbox"> <a href="#fetchOneByAnyPropertyValue">fetchOneByAnyPropertyValue</a></li>
<li><input disabled="" type="checkbox"> <a href="#fetchOneByAllPropertyValues">fetchOneByAllPropertyValues</a></li>
<li><input disabled="" type="checkbox"> <a href="#fetchByPropertyValueAndCriteria">fetchByPropertyValueAndCriteria</a></li>
<li><input disabled="" type="checkbox"> <a href="#fetchByAnyPropertyValueAndCriteria">fetchByAnyPropertyValueAndCriteria</a></li>
<li><input disabled="" type="checkbox"> <a href="#fetchByAllPropertyValuesAndCriteria">fetchByAllPropertyValuesAndCriteria</a></li>
</ul>

<a href="#utility" id="utility" style="color: inherit; text-decoration: none;">
  <h4>Utility</h4>
</a>
<ul>
<li><input disabled="" type="checkbox"> <a href="#trimDocuments">trimDocuments</a></li>
<li><input disabled="" type="checkbox"> <a href="#validateUniqueConstraint">validateUniqueConstraint</a></li>
</ul>

<a href="#array-helpers-wip" id="array-helpers-wip" style="color: inherit; text-decoration: none;">
  <h4>Array Helpers (WIP)</h4>
</a>
<ul>
<li><input disabled="" type="checkbox"> <a href="#addArrayValue">addArrayValue</a></li>
<li><input disabled="" type="checkbox"> <a href="#removeArrayValue">removeArrayValue</a></li>
<li><input disabled="" type="checkbox"> <a href="#addArrayObject">addArrayObject</a></li>
<li><input disabled="" type="checkbox"> <a href="#removeArrayObject">removeArrayObject</a></li>
<li><input disabled="" type="checkbox"> <a href="#updateArrayObject">updateArrayObject</a></li>
<li><input disabled="" type="checkbox"> <a href="#replaceArrayObject">replaceArrayObject</a></li>
<li><input disabled="" type="checkbox"> <a href="#replaceArray">replaceArray</a></li>
</ul>

<a href="#constructors-amp-connection-management-1" id="constructors-amp-connection-management-1" style="color: inherit; text-decoration: none;">
  <h2>Constructors &amp; Connection Management</h2>
</a>

<a href="#arangodb" id="arangodb" style="color: inherit; text-decoration: none;">
  <h3>ArangoDB</h3>
</a>
<p><a href="https://distributhor.github.io/guacamole/classes/index.ArangoDB.html">ArangoDB</a>: This is the main class and interface. It provides direct and easy access to the ArangoJS instance/driver itself, but adds methods which can be used optionally.</p>
<p>The configuration object passed into the constructor is a standard <code>ArangoJS</code> <a href="https://arangodb.github.io/arangojs/8.1.0/types/connection.Config.html">Config</a> object. It will also accept an existing <code>ArangoJS</code> <a href="https://arangodb.github.io/arangojs/8.1.0/classes/database.Database.html">Database</a> instance.</p>
<p>Optionally, a second parameter accepts a <a href="https://distributhor.github.io/guacamole/interfaces/types.GuacamoleOptions.html">GuacamoleOptions</a> object, which provides additional configuration options.</p>
<pre><code class="language-javascript"><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">db</span><span class="hl-2"> = </span><span class="hl-5">new</span><span class="hl-2"> </span><span class="hl-7">ArangoDB</span><span class="hl-2">({</span><br/><span class="hl-2">   </span><span class="hl-3">databaseName:</span><span class="hl-2"> </span><span class="hl-3">process</span><span class="hl-2">.</span><span class="hl-3">env</span><span class="hl-2">.</span><span class="hl-6">DB_NAME</span><span class="hl-2">,</span><br/><span class="hl-2">   </span><span class="hl-3">url:</span><span class="hl-2"> </span><span class="hl-3">process</span><span class="hl-2">.</span><span class="hl-3">env</span><span class="hl-2">.</span><span class="hl-6">DB_URL</span><span class="hl-2">,</span><br/><span class="hl-2">   </span><span class="hl-3">auth:</span><span class="hl-2"> {</span><br/><span class="hl-2">      </span><span class="hl-3">username:</span><span class="hl-2"> </span><span class="hl-3">process</span><span class="hl-2">.</span><span class="hl-3">env</span><span class="hl-2">.</span><span class="hl-6">DB_USER</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-3">password:</span><span class="hl-2"> </span><span class="hl-3">process</span><span class="hl-2">.</span><span class="hl-3">env</span><span class="hl-2">.</span><span class="hl-6">DB_PASSWORD</span><br/><span class="hl-2">   }</span><br/><span class="hl-2">})</span>
</code></pre>
<pre><code class="language-javascript"><span class="hl-1">import</span><span class="hl-2"> { </span><span class="hl-3">Database</span><span class="hl-2"> } </span><span class="hl-1">from</span><span class="hl-2"> </span><span class="hl-4">&quot;arangojs&quot;</span><br/><br/><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">ajsdb</span><span class="hl-2"> = </span><span class="hl-5">new</span><span class="hl-2"> </span><span class="hl-7">Database</span><span class="hl-2">({</span><br/><span class="hl-2">   </span><span class="hl-3">databaseName:</span><span class="hl-2"> </span><span class="hl-3">process</span><span class="hl-2">.</span><span class="hl-3">env</span><span class="hl-2">.</span><span class="hl-6">DB_NAME</span><span class="hl-2">,</span><br/><span class="hl-2">   </span><span class="hl-3">url:</span><span class="hl-2"> </span><span class="hl-3">process</span><span class="hl-2">.</span><span class="hl-3">env</span><span class="hl-2">.</span><span class="hl-6">DB_URL</span><span class="hl-2">,</span><br/><span class="hl-2">   </span><span class="hl-3">auth:</span><span class="hl-2"> {</span><br/><span class="hl-2">      </span><span class="hl-3">username:</span><span class="hl-2"> </span><span class="hl-3">process</span><span class="hl-2">.</span><span class="hl-3">env</span><span class="hl-2">.</span><span class="hl-6">DB_USER</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-3">password:</span><span class="hl-2"> </span><span class="hl-3">process</span><span class="hl-2">.</span><span class="hl-3">env</span><span class="hl-2">.</span><span class="hl-6">DB_PASSWORD</span><br/><span class="hl-2">   }</span><br/><span class="hl-2">})</span><br/><br/><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">db</span><span class="hl-2"> = </span><span class="hl-5">new</span><span class="hl-2"> </span><span class="hl-7">ArangoDB</span><span class="hl-2">(</span><span class="hl-3">ajsdb</span><span class="hl-2">)</span>
</code></pre>

<a href="#arangoconnection" id="arangoconnection" style="color: inherit; text-decoration: none;">
  <h3>ArangoConnection</h3>
</a>
<p><a href="https://distributhor.github.io/guacamole/classes/index.ArangoConnection.html">ArangoConnection</a>: A class that manages instances of <code>ArangoDB</code>. An <code>ArangoDB</code> instance deals with only one <code>ArangoJS Database</code>. If you only need to work with one database, then simply use the <code>ArangoDB</code> class directly, but if you want to use different databases interchangeably in the same code, then <code>ArangoConnection</code> could potentially make that easier.</p>
<p>It is not without limitations though, and it&#39;s important to understand how it behaves. </p>
<p><em>TODO: finish describing how it behaves.</em></p>
<pre><code class="language-javascript"><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">con</span><span class="hl-2"> = </span><span class="hl-5">new</span><span class="hl-2"> </span><span class="hl-7">ArangoConnection</span><span class="hl-2">({</span><br/><span class="hl-2">   </span><span class="hl-3">databaseName:</span><span class="hl-2"> </span><span class="hl-4">&#39;dbName1&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">   </span><span class="hl-3">url:</span><span class="hl-2"> </span><span class="hl-3">process</span><span class="hl-2">.</span><span class="hl-3">env</span><span class="hl-2">.</span><span class="hl-6">DB_URL</span><span class="hl-2">,</span><br/><span class="hl-2">   </span><span class="hl-3">auth:</span><span class="hl-2"> {</span><br/><span class="hl-2">      </span><span class="hl-3">username:</span><span class="hl-2"> </span><span class="hl-3">process</span><span class="hl-2">.</span><span class="hl-3">env</span><span class="hl-2">.</span><span class="hl-6">DB_USER</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-3">password:</span><span class="hl-2"> </span><span class="hl-3">process</span><span class="hl-2">.</span><span class="hl-3">env</span><span class="hl-2">.</span><span class="hl-6">DB_PASSWORD</span><br/><span class="hl-2">   }</span><br/><span class="hl-2">})</span><br/><br/><span class="hl-0">// or alternatively, if the other database(s) require </span><br/><span class="hl-0">// different credentials, pass an array of config</span><br/><br/><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">con</span><span class="hl-2"> = </span><span class="hl-5">new</span><span class="hl-2"> </span><span class="hl-7">ArangoConnection</span><span class="hl-2">([{</span><br/><span class="hl-2">   </span><span class="hl-3">databaseName:</span><span class="hl-2"> </span><span class="hl-4">&#39;dbName1&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">   </span><span class="hl-3">url:</span><span class="hl-2"> </span><span class="hl-3">process</span><span class="hl-2">.</span><span class="hl-3">env</span><span class="hl-2">.</span><span class="hl-6">DB_URL</span><span class="hl-2">,</span><br/><span class="hl-2">   </span><span class="hl-3">auth:</span><span class="hl-2"> {</span><br/><span class="hl-2">      </span><span class="hl-3">username:</span><span class="hl-2"> </span><span class="hl-3">process</span><span class="hl-2">.</span><span class="hl-3">env</span><span class="hl-2">.</span><span class="hl-6">DB_USER</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-3">password:</span><span class="hl-2"> </span><span class="hl-3">process</span><span class="hl-2">.</span><span class="hl-3">env</span><span class="hl-2">.</span><span class="hl-6">DB_PASSWORD</span><br/><span class="hl-2">   }</span><br/><span class="hl-2">}, {</span><br/><span class="hl-2">   </span><span class="hl-3">databaseName:</span><span class="hl-2"> </span><span class="hl-4">&#39;dbName2&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">   </span><span class="hl-3">url:</span><span class="hl-2"> </span><span class="hl-3">process</span><span class="hl-2">.</span><span class="hl-3">env</span><span class="hl-2">.</span><span class="hl-6">DB_URL_2</span><span class="hl-2">,</span><br/><span class="hl-2">   </span><span class="hl-3">auth:</span><span class="hl-2"> {</span><br/><span class="hl-2">      </span><span class="hl-3">username:</span><span class="hl-2"> </span><span class="hl-3">process</span><span class="hl-2">.</span><span class="hl-3">env</span><span class="hl-2">.</span><span class="hl-6">DB_USER_2</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-3">password:</span><span class="hl-2"> </span><span class="hl-3">process</span><span class="hl-2">.</span><span class="hl-3">env</span><span class="hl-2">.</span><span class="hl-6">DB_PASSWORD_2</span><br/><span class="hl-2">   }</span><br/><span class="hl-2">}])</span><br/><br/><span class="hl-0">// db1 = ArangoDB instance for dbName1</span><br/><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">db1</span><span class="hl-2"> = </span><span class="hl-3">con</span><span class="hl-2">.</span><span class="hl-7">db</span><span class="hl-2">(</span><span class="hl-4">&#39;dbName1&#39;</span><span class="hl-2">)</span><br/><span class="hl-3">db1</span><span class="hl-2">.</span><span class="hl-7">query</span><span class="hl-2">(</span><span class="hl-7">aql</span><span class="hl-4">`FOR d IN user FILTER d.name LIKE </span><span class="hl-5">${</span><span class="hl-3">name</span><span class="hl-5">}</span><span class="hl-4"> RETURN d`</span><span class="hl-2">)</span><br/><br/><span class="hl-0">// or simply ...</span><br/><span class="hl-3">con</span><span class="hl-2">.</span><span class="hl-7">db</span><span class="hl-2">(</span><span class="hl-4">&#39;dbName1&#39;</span><span class="hl-2">).</span><span class="hl-7">query</span><span class="hl-2">(</span><span class="hl-7">aql</span><span class="hl-4">`FOR d IN user FILTER d.name LIKE </span><span class="hl-5">${</span><span class="hl-3">name</span><span class="hl-5">}</span><span class="hl-4"> RETURN d`</span><span class="hl-2">)</span><br/><br/><span class="hl-0">// and working with ArangoDB instance for dbName2</span><br/><span class="hl-3">con</span><span class="hl-2">.</span><span class="hl-7">db</span><span class="hl-2">(</span><span class="hl-4">&#39;dbName2&#39;</span><span class="hl-2">).</span><span class="hl-7">fetchByCriteria</span><span class="hl-2">(</span><span class="hl-4">&#39;user&#39;</span><span class="hl-2">, {</span><br/><span class="hl-2">   </span><span class="hl-3">search:</span><span class="hl-2"> { </span><br/><span class="hl-2">      </span><span class="hl-3">properties:</span><span class="hl-2"> </span><span class="hl-4">&#39;name&#39;</span><span class="hl-2">, </span><br/><span class="hl-2">      </span><span class="hl-3">terms:</span><span class="hl-2"> </span><span class="hl-3">$</span><span class="hl-2">{</span><span class="hl-3">name</span><span class="hl-2">} </span><br/><span class="hl-2">   },</span><br/><span class="hl-2">})</span>
</code></pre>

<a href="#native-driver-aql-queries-amp-crud-1" id="native-driver-aql-queries-amp-crud-1" style="color: inherit; text-decoration: none;">
  <h2>Native Driver, AQL Queries &amp; CRUD</h2>
</a>

<a href="#the-arangojs-driver" id="the-arangojs-driver" style="color: inherit; text-decoration: none;">
  <h3>The ArangoJS Driver</h3>
</a>
<p>The native <code>ArangoJS</code> driver is exposed on a public <code>.driver</code> property of the <code>ArangoDB</code> class. By using <code>db.driver</code> you always have the full native capability available.</p>
<pre><code class="language-javascript"><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">cursor</span><span class="hl-2"> = </span><span class="hl-1">await</span><span class="hl-2"> </span><span class="hl-3">db</span><span class="hl-2">.</span><span class="hl-3">driver</span><span class="hl-2">.</span><span class="hl-7">query</span><span class="hl-2">(</span><span class="hl-7">aql</span><span class="hl-4">`FOR d IN user FILTER d.name LIKE </span><span class="hl-5">${</span><span class="hl-3">name</span><span class="hl-5">}</span><span class="hl-4"> RETURN d`</span><span class="hl-2">)</span><br/><br/><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">document</span><span class="hl-2"> = </span><span class="hl-1">await</span><span class="hl-2"> </span><span class="hl-3">db</span><span class="hl-2">.</span><span class="hl-3">driver</span><span class="hl-2">.</span><span class="hl-3">collection</span><span class="hl-2">.</span><span class="hl-7">document</span><span class="hl-2">(</span><span class="hl-4">&#39;abc123&#39;</span><span class="hl-2">)</span>
</code></pre>

<a href="#aql-queries" id="aql-queries" style="color: inherit; text-decoration: none;">
  <h3>AQL Queries</h3>
</a>
<p>To perform an AQL query you can, of course, just use the native driver. However, in the case of the <code>query</code> method (since it&#39;s used so much) there&#39;s a direct version available without having to use <code>.driver</code> first.</p>
<pre><code class="language-javascript"><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">cursor</span><span class="hl-2"> = </span><span class="hl-1">await</span><span class="hl-2"> </span><span class="hl-3">db</span><span class="hl-2">.</span><span class="hl-7">query</span><span class="hl-2">(</span><span class="hl-7">aql</span><span class="hl-4">`FOR d IN user FILTER d.name LIKE </span><span class="hl-5">${</span><span class="hl-3">name</span><span class="hl-5">}</span><span class="hl-4"> RETURN d`</span><span class="hl-2">)</span>
</code></pre>
<p>This returns the standard <code>ArangoJS ArrayCursor </code> as per normal. If you don&#39;t want use the <code>ArrayCursor</code> and prefer to simply return all results immediately (equivalent to invoking <code>cursor.all()</code> - the usual warnings apply) ...</p>
<pre><code class="language-javascript"><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">results</span><span class="hl-2"> = </span><span class="hl-1">await</span><span class="hl-2"> </span><span class="hl-3">db</span><span class="hl-2">. </span><span class="hl-7">returnAll</span><span class="hl-2">(</span><span class="hl-7">aql</span><span class="hl-4">`FOR d IN user FILTER d.name LIKE </span><span class="hl-5">${</span><span class="hl-3">name</span><span class="hl-5">}</span><span class="hl-4"> RETURN d`</span><span class="hl-2">)</span><br/><br/><span class="hl-1">for</span><span class="hl-2"> (</span><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-6">r</span><span class="hl-2"> </span><span class="hl-5">of</span><span class="hl-2"> </span><span class="hl-3">result</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-3">console</span><span class="hl-2">.</span><span class="hl-7">log</span><span class="hl-2">(</span><span class="hl-3">r</span><span class="hl-2">)</span><br/><span class="hl-2">}</span>
</code></pre>
<p><a href="#table-of-contents">Back to top</a></p>

<a href="#crud-operations" id="crud-operations" style="color: inherit; text-decoration: none;">
  <h3>CRUD Operations</h3>
</a>
<p><em>TODO: finish documentation for this section</em></p>
<p><a href="#table-of-contents">Back to top</a></p>

<a href="#criteria-queries-amp-property-based-data-fetching-1" id="criteria-queries-amp-property-based-data-fetching-1" style="color: inherit; text-decoration: none;">
  <h2>Criteria Queries &amp; Property-Based Data Fetching</h2>
</a>

<a href="#introduction" id="introduction" style="color: inherit; text-decoration: none;">
  <h3>Introduction</h3>
</a>
<p>Here now</p>

<a href="#methods" id="methods" style="color: inherit; text-decoration: none;">
  <h3>Methods</h3>
</a>
<p><a href="https://distributhor.github.io/guacamole/classes/index.ArangoDB.html#fetchAll">fetchAll</a>: here now</p>
<p><a href="#table-of-contents">Back to top</a></p>

<a href="#license" id="license" style="color: inherit; text-decoration: none;">
  <h2>License</h2>
</a>
<p>The MIT License (MIT). Please see <a href="LICENSE">License File</a> for more information.</p>
</div></div>
<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
<div class="tsd-navigation settings">
<details class="tsd-index-accordion"><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Settings</h3></summary>
<div class="tsd-accordion-details">
<div class="tsd-filter-visibility">
<h4 class="uppercase">Member Visibility</h4><form>
<ul id="tsd-filter-options">
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div>
<div class="tsd-theme-toggle">
<h4 class="uppercase">Theme</h4><select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div>
<nav class="tsd-navigation primary">
<details class="tsd-index-accordion" open><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Modules</h3></summary>
<div class="tsd-accordion-details">
<ul>
<li class="current selected"><a href="modules.html">Guacamole <wbr/>Docs</a>
<ul>
<li class="tsd-kind-module"><a href="modules/index.html">index</a></li>
<li class="tsd-kind-module"><a href="modules/queries.html">queries</a></li>
<li class="tsd-kind-module"><a href="modules/types.html">types</a></li></ul></li></ul></div></details></nav></div></div>
<div class="container tsd-generator">
<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div>
<div class="overlay"></div><script src="assets/main.js"></script></body></html>